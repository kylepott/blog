---
author: kylepott
date: 2019-02-19 01:01:44+00:00
draft: false
title: My First Metasploitable Vulnerability, Exploit, and Fix
type: post
url: /2019/02/19/my-first-metasploitable-vulnerability-and-exploit/
tags:
- kali
- msf2
- nmap
- rlogin
- rsh-client
---




In getting started with Metasploitable (msf2), I was looking for a simple first vulnerability and exploit to really try out and get some momentum in my learning.







A really simple _nmap_ command let me know that a lot of ports were open.  There's a great deal of practice I'll be able to put to the test through msf2.  I started by noticing the unix login port 513 is open.





![](https://technicalagain.com/wp-content/uploads/2019/02/Screenshot-from-2019-02-18-18-45-07.png)






From there, I installed the rsh-client on Kali (_sudo apt-get install rsh-client_) to see if I could gain remote access using the command _rlogin -l root ipaddress_. Success!





![](https://technicalagain.com/wp-content/uploads/2019/02/Screenshot-from-2019-02-18-18-48-34.png)






Then I took a look at the _.rhostsï»¿_ file and I found it contained ++.  





![](https://technicalagain.com/wp-content/uploads/2019/02/Screenshot-from-2019-02-18-18-53-04.png)






Here's what's going on with this vulnerability.  msf2 has an rsh-server running and allowing remote connectivity through port 513.  This allows remote access to the host for convenience or remote administration.    However the _.rhosts _file is misconfigured.  The _++ _signifies that all computers should be treated as friendlies and be allowed to connect.  The _/etc/hosts.equiv_ file has the same setting.







## Fixing the vulnerability







To fix the vulnerability we need to remove ++ from the _.rhosts_ file.  By writing null into the file you can see the next time we try to connect we now need the password!  Vulnerability fixed and first legitimate use of msf2 is a success!





![](https://technicalagain.com/wp-content/uploads/2019/02/Screenshot-from-2019-02-18-18-55-43.png)








